---
import SidebarLayout from "@/layouts/SidebarLayout.astro";
import CopyButton from "@/components/CopyButton.astro";
import { perks } from "@/lib/constants/perks";
---

<SidebarLayout
  title="Perks | Crafter Station"
  description="Credenciales y accesos compartidos del equipo."
>
  <div class="max-w-6xl pt-12 lg:pt-0 mx-auto">
    <div class="mb-12">
      <p class="text-sm text-primary font-medium mb-2">Recursos del Equipo</p>
      <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Perks</h1>
      <p class="text-neutral-400 max-w-2xl">
        Accesos y credenciales compartidas para el equipo.
      </p>
    </div>

    <div class="overflow-x-auto border border-neutral-800 rounded-lg">
      <table class="w-full min-w-[600px]">
        <thead>
          <tr class="border-b border-neutral-800 bg-neutral-900/50">
            <th class="text-left py-4 px-4 text-sm font-medium text-neutral-400"
              >Nombre</th
            >
            <th class="text-left py-4 px-4 text-sm font-medium text-neutral-400"
              >Correo</th
            >
            <th class="text-left py-4 px-4 text-sm font-medium text-neutral-400"
              >Contraseña</th
            >
            <th class="text-left py-4 px-4 text-sm font-medium text-neutral-400"
              >URL</th
            >
          </tr>
        </thead>
        <tbody>
          {
            perks.map((perk, index) => (
              <tr
                class:list={[
                  "border-b border-neutral-800 hover:bg-neutral-900/30 transition-colors",
                  index === perks.length - 1 && "border-b-0",
                ]}
              >
                <td class="py-4 px-4">
                  <span class="text-white font-medium">{perk.name}</span>
                </td>
                <td class="py-4 px-4">
                  <div class="flex items-center gap-2">
                    <span class="text-neutral-300 text-sm font-mono">
                      {perk.email}
                    </span>
                    <CopyButton text={perk.email} label="Copiar correo" />
                  </div>
                </td>
                <td class="py-4 px-4">
                  <div class="flex items-center gap-2">
                    <span class="text-neutral-300 text-sm font-mono">
                      ********
                    </span>
                    <CopyButton
                      text={perk.password}
                      label="Copiar contraseña"
                    />
                  </div>
                </td>
                <td class="py-4 px-4">
                  <div class="flex items-center gap-2">
                    <a
                      href={perk.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="text-primary hover:underline text-sm truncate max-w-[200px]"
                    >
                      {perk.url}
                    </a>
                    <CopyButton text={perk.url} label="Copiar URL" />
                  </div>
                </td>
              </tr>
            ))
          }
        </tbody>
      </table>
    </div>

    {
      perks.length === 0 && (
        <div class="text-center py-12 text-neutral-500">
          No hay perks disponibles.
        </div>
      )
    }
  </div>
</SidebarLayout>
